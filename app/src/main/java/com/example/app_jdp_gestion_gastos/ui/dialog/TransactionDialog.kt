package com.example.app_jdp_gestion_gastos.ui.dialogimport android.app.Dialogimport android.graphics.Colorimport android.os.Bundleimport android.text.Spannableimport android.text.SpannableStringimport android.text.SpannableStringBuilderimport android.text.style.ForegroundColorSpanimport android.view.Windowimport android.widget.Buttonimport android.widget.TextViewimport androidx.fragment.app.DialogFragmentimport com.example.app_jdp_gestion_gastos.Rimport com.example.app_jdp_gestion_gastos.data.model.Transactionclass TransactionDialog(private val selectedDate: String, private val transactions: List<Transaction>) : DialogFragment() {    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {        val dialog = Dialog(requireContext())        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)        dialog.setContentView(R.layout.dialog_transactions)        dialog.window?.setBackgroundDrawableResource(android.R.color.transparent)        val titleTextView = dialog.findViewById<TextView>(R.id.tvDialogTitle)        val detailsTextView = dialog.findViewById<TextView>(R.id.tvTransactionDetails)        val closeButton = dialog.findViewById<Button>(R.id.btnClose)        titleTextView.text = "Transacciones del $selectedDate"        val spannableBuilder = SpannableStringBuilder()        transactions.forEach { transaction ->            val color = if (transaction.type == "ingreso") Color.GREEN else Color.RED            val transactionText = "${transaction.description}: ${"%.2f".format(transaction.amount)} â‚¬ (${transaction.type})\n"            val spannableString = SpannableString(transactionText)            spannableString.setSpan(                ForegroundColorSpan(color),                0,                transactionText.length,                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE            )            spannableBuilder.append(spannableString)        }        detailsTextView.text = spannableBuilder        closeButton.setOnClickListener { dismiss() }        return dialog    }}